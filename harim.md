이펙티브 자바
​
1장 들어가기
​
2장 객체 생성과 파괴
​
- 아이템 1
생성자 대신 정적 팩토리 메서드를 고려하라.
​
정적 팩토리 메서드(static factory method)​

​
생성자(constructor)
인스턴스를 생성하는 메서드​
​
팩토리
객체 생성을 담당하는 클래스
​
팩토리 메서드
객체 생성을 담당하는 팩토리의 메서드
​
cf) 팩토리 메서드 패턴, ​탬플릿 메서드 패턴
​
​
장점
1. 이름을 가질 수 있다. (가독성)
2. 호출될 때마다 인스턴스를 새로 생성하지는 않아도 된다. (성능)
3. 반환 타입의 하위 타입 객체를 반환할 수 있는 능력이 있다. (다형성)
4. 입력 매개변수에 따라 매번 다른 클래스의 객체를 반환할 수 있다.
5. 정적 팩터리 메서드를 작성하는 시점에는 반환할 객체의 클래스가 존재하지 않아도 된다.
​
단점(?)
1. 상속 구현 불가
2. 프로그래머가 찾기 어렵다
​
​
- 아이템 2
​생성자에 매개변수가 많다면 빌더를 고려하라.
​
빌더

​
생성자 패턴 종류
점층적 생성자 패턴
자바빈즈 패턴
빌더 패턴
​
​
점층적 생성자 패턴​
매개변수가 갯수가 많아지면 코드 파악이 어렵다.
​
자바빈즈 패턴
클래스를 불변으로 만들 수 없다.
​
빌더 패턴​
둘의 장점만 취합
​
​
​
​
- 아이템 3
​private 생성자나 열거 타입으로 싱글턴임을 보장하라.
​
대부분의 상황에서 원소가 하나뿐인 열거타입(Enumeration)이 싱글턴을 만드는 가장 좋은 방법이다.
​
​
싱글턴(singleton)
오직 하나의 인스턴스만​​ 생성할 수 있는 클래스
오직 하나의 인스턴스를 가지는 클래스
​
​
싱글턴을 만드는 방식
1. 생성자를 private으로 감춘다.
2. 하나의 인스턴스를 public static 멤버로 둔다.
​
​
​
​
변수
=> 멤버변수 / 지역변수
멤버변수는 선언위치가 '클래스 영역'이고,

지역변수의 선언위치는 '메소드나 생성자 내부'

 

​
멤버변수
=> 클래스변수 / 인스턴스변수
클래스변수 static 멤버변수 (모든 인스턴스의 공통 속성)

인스턴스변수 non-static 멤버변수​



​
​
- 아이템 9
try-finally 보다는 try-with-resources를 사용하라
​
​
​
3장 모든 객체의 공통 메서드
​
재정의(overriding)​
​
- 아이템 10
equals는 일반 규약을 지켜 재정의하라
​
equals를 재정의해야 하는 상황
객체 식별성(object identity)가 아닌 논리적 동치성(logical equality)를 검사해야 할 때
ex) 인스턴스 변수의 값이 모두 같으면 같은 객체로 봐야하는 경우
​
​
​
- 아이템 11
equals를 재정의하려거든 hashCode도 재정의하라
​
HashMap, HashSet과 같이 내부적으로 hashCode를 사용하는 경우, hashCode를 재정의하지 않으면 문제가 된다.
​
- 아이템 12​
toString은 항상 재정의하라
​
디버깅에 용이하다.
print, 문자열 연결 연산자(+), assert 구문에 넘길때 등, 직접 호출하지 않더라도 어딘가에서 쓰일 수 있다.
​
​
​